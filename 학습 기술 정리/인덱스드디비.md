# 정의 및 사용에 관해

1. mdn 문서에서는 대량의 데이터를 저장하거나 하는 것에 유익함.
2. 실사용 예시라던가 실제로 사용해보니 대용량 데이터에 사용하는 것이 좋다는 것이 느껴졌음. 어쨌든 async await를 실행하기에 큐를 사용하게 된다. 프로미스를 뱉기에 마이크로 태스크 큐로 이동된다.
3. 동기화 시점에 대해 어려움을 느끼고 있다. 언제 BE측 데이터와 동기화 해야 하는가? 에 대해 난해하다고 생각했음. 전체 기획적으로 업데이트가 되었다는 내용이 있을 때 업데이트를 해야하는데 그걸 어떤식으로 해야할지 모르겠음. 일반 update된 date를 비교해서 하면 될 듯한데, 그걸 BE에서도 들고 있어야 비교가 가능한데 그걸 어떻게 해야하는지 모르겠음. (장고 같은 경우엔 대부분 자체적으로 업데이트된 시간을 갖고 있기에 그 데이터를 함께 넘겨서 확인해도 될 듯하다.)

# async await가 가능한 message 구현

1. protocol을 임의로 정하고 그것을 관리하는 부분이 난해했음.
2. async-await 부분은 Promise의 reject, resolve를 통해 관리했는데, 정말 똑똑한 방식이라고 생각함.
3. id도 자체적으로 generate 하는 방식을 도입하면서 배울 점이 많을 것으로 보임.

# IndexedDB 관련

1. IDBKeyRange가 window에 있다는 것을 처음 알았음.
2. IDBKeyRange를 통해 구분이 가능하다는 것을 알았음.
3. IndexedDB가 일종의 DB이고 index 부분은 암호화가 불가능하다는 것을 알게 되었음.
4. CryptoKey의 를 통해 key를 안전하게 사용이 가능하다는 것을 알게 됨. extractable 옵션을 통해서.
5. iv는 initial vector의 약어로, 암복호화에 필요한 값이며 말 그대로 초기 벡터이다. 첫 벡터 이후의 암복호화는 그 키에 들어간다고 한다.
6. iv값은 노출이 되어도 상관 없으나, 계속 같은 값을 사용할 경우 문제가 생길 수 있음.
7. indexedDB의 경우, idb 라이브러리를 주로 사용하였음. storeName과 key value 등을 받아서 사용할 수 있도록 하는 형태.
8. cursor 기능의 경우, 상당히 유용해보임. 특정한 값들의 keyRange를 통해 해당 값들만 조회해서 작업하는 것이 가능하기에. (with IDBKeyRange)
9. keyPath에 대해 알게 되었음. createObjectStore에서 지정한 keyPath는 실제로 해당 값이 무조건 있어야 하는 것이고, indexes 옵션에서 받는 index의 이름과 그 index의 값을 정하는 keyPath 역시 비슷한 역할을 한다는 것을 깨닫게 되었음.
10. indexedDB는 string 혹은 number를 key값으로 가질 수 있음. index의 값은 Date 등도 가능.
